# JAVA STANDARD [ 자바의 정석 ]

# Chapter 06 객체지향 프로그래밍 I
- 인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스의 타입과 일치해야한다.
- 참고 : 자신을 참조하고 있는 참조변수가 하나도 없는 인스턴스는 더 이상 사용되어질 수 없으므로 '가비지 컬렉터'에 의해서 자동적으로 메모리에서 제거된다.
- 데이터 저장 개념
  - 변수 : 하나의 데이터를 저장할 수 있는 공간
  - 배열 : 가튼 종류의 여러 데이터를 하나의 집합으로 저장할 수 있는 공간
  - 구조체 : 서로 관련된 여러 데이터를 종류에 관계없이 하나의 집합으로 저장할 수 있는 공간
  - 클래스 : 데이터와 함수의 결합(구조체 + 함수)
- 변수
  - 인스턴스변수(instance variable) : 클래스 영역에 선언. 독립적인 저장공간
  - 클래스변수(class variable) : 모든 인스턴스가 공통된 저장공간(변수)을 공유, 인스턴수변수와 달리 인스턴스를 생성하지 않고도 바로 사용 가능, 메모리에 `로딩(loading)`될 때 생성 -> 종료까지 유지
  - 지역변수(local variable) : 메서드 내에 선언되어 메서드 내에서만 사용 가능, 지역변수가 선언된 `블럭 {}` 내에서만 사용 가능
- 인스턴스변수는 인스턴스가 생성될 때 마다 생성되므로 인스턴스마다 각기 다른 값을 유지할 수 있지만, 클래스 변수는 모든 인스턴스가 하나의 저장공간을 공유하므로, 항상 공톤된 값을 갖는다.
- 메서드를 사용하는 이유
  - 높은 재사용성(reusability)
  - 중복된 코드의 제거
  - 프로그램의 구조화
    - 처음에 프로그램을 설계할 때 내용이 없는 메서드를 작업단위로 만들어놓고, 하나씩 완성해가는 것도 프로그램을 구조화하는 좋은 방법
  - 메서드를 작성할 때는 매개변수의 유효성을 검사하는 코드를 반드시 넣자. 매개변수의 유효성 검사는 메서드의 작성에 있어서 간과하기 쉬운 중요한 부분이다.
- JVM의 메모리 구조
  - 메서드 영역(method area)
    - 프로그램 실행 중 어떤 클래스가 사용되면, JVM은 해당 클래스의 클래스파일(*.class)을 읽어서 분석하여 클래스에 대한 정보(클래스 데이터)를 이곳에 저장한다. 이 때, 그 클래스의 클래스변수 (class variable)도 이 영역에 함께 생성된다.
  - 힙(heap)
    - 인스턴스가 생성되는 공간. 프로그램 실행 중 생성되는 인스턴스는 모두 이곳에 생성된다. 즉, 인스턴스변수(instance variable)들이 생성되는 공간이다.
  - 호출스택(call stack 또는 execution stack)
    - 호출스택은 메서드의 작업에 필요한 메모리 공간을 제공한다. 메서드가 호출되면, 호출스택에 호출된 메서드를 위한 메모리가 할당되며, 이 메모리는 메서드가 작업을 수행하는 동안 지역변수(매개변수 포함)들과 연산의 중간결과 등을 저장하는데 사용된다. 그리고 메서드가 작업을 마치면 할당되었던 메모리공간은 반환되어 비워진다.
      - 메서드가 호출되면 수행에 필요한 만큼의 메모리를 스택에 할당받는다.
      - 메서드가 수행을 마치고나면 사용했던 메모리를 반환하고 스택에서 제거된다.
      - 호출스택의 제일 위에 있는 메서드가 현재 실행 중인 메서드이다.
      - 아래에 있는 메서드가 바로 위의 메서드를 호출한 메서드이다.
- 기본형 매개변수와 참조형 매개변수
  - 기본형 매개변수 : 변수의 값을 읽기만 할 수 있다. (read only)
  - 참조형 매개변수 : 변수의 값을 읽고 변경할 수 있다. (read & write)